[Tests]
  # Multiphysics Full Core Models
  # griffin mesh needs to be generated by the single-physics test
  [generate_griffin_mesh]
    type = RunApp
    input = 'Griffin_mesh.i'
    cli_args = '--mesh-only'
    executable_pattern = 'griffin*|blue_crab*'
    working_directory = 'mesh'
  []
  [generate_bison_mesh]
    type = RunApp
    input = 'BISON_mesh.i'
    cli_args = '--mesh-only'
    executable_pattern = 'griffin*|blue_crab*'
    working_directory = 'mesh'
    prereq = 'generate_griffin_mesh'
  []
  [MP_Griffin_syntax]
    type = RunApp
    check_input = true
    input = 'MP_Griffin_ss.i'
    cli_args = "MultiApps/active='' Transfers/active=''"
    executable_pattern = 'griffin*|blue_crab*'
    method = 'opt'
    max_time = 600
    # Griffin does not have the sam petsc option parameter
    allow_unused = true
    working_directory = 'steady_state'
    prereq = 'generate_griffin_mesh'
  []
  [MP_BISON_syntax]
    type = RunApp
    check_input = true
    input = 'MP_BISON_ss.i'
    cli_args = "MultiApps/active='' Transfers/active=''"
    executable_pattern = 'bison*|blue_crab*'
    method = 'opt'
    max_time = 600
    working_directory = 'steady_state'
    prereq = 'generate_bison_mesh'
  []
  [MP_SAM_syntax]
    type = RunApp
    check_input = true
    input = 'MP_SAM_ss.i'
    cli_args = "--app ThermalHydraulicsApp"
    executable_pattern = 'sam*|blue_crab*'
    method = 'opt'
    max_time = 600
    working_directory = 'steady_state'
  []

  # the same coarse mesh will be used
  [generate_mesh_coarse]
    type = RunApp
    input = 'Griffin_mesh.i'
    cli_args = '--mesh-only Mesh_coarse_in.e
                Mesh/extrude/num_layers="1 1 1 1 1 1 1"'
    executable_pattern = 'griffin*|blue_crab*'
    working_directory = 'mesh'
    prereq = 'MP_Griffin_syntax MP_BISON_syntax MP_SAM_syntax'
  []
  [MP_ss]
    type = RunApp
    input = 'MP_Griffin_ss.i'
    cli_args = 'Mesh/fmg/file="../mesh/Mesh_coarse_in.e"
                TransportSystems/SN/NA=1
                Executioner/richardson_max_its=1
                MultiApps/bison/cli_args="Mesh/fmg/file=../mesh/Mesh_coarse_in.e"'
    executable_pattern = 'blue_crab*'
    method = 'opt'
    max_time = 18000
    # Griffin does not have the sam petsc option parameter
    allow_unused = true
    allow_warnings = true
    working_directory = 'steady_state'
    prereq = 'generate_mesh_coarse'
    heavy = true
    min_parallel = 48
  []

  [MP_Griffin_trN_syntax]
    type = RunApp
    check_input = true
    input = 'MP_Griffin_trN.i'
    cli_args = 'MultiApps/active="" Transfers/active=""
                Mesh/fmg/file="../mesh/Mesh_coarse_in.e"
                TransportSystems/SN/NA=1'
    executable_pattern = 'griffin*|blue_crab*'
    method = 'opt'
    max_time = 600
    # Griffin does not have the sam petsc option parameter
    allow_unused = true
    working_directory = 'null_transient'
    prereq = 'generate_mesh_coarse'
    min_parallel = 96
  []
  [MP_BISON_trN_syntax]
    type = RunApp
    check_input = true
    input = 'MP_BISON_trN.i'
    cli_args = "MultiApps/active='' Transfers/active=''"
    executable_pattern = 'bison*|blue_crab*'
    method = 'opt'
    max_time = 600
    working_directory = 'null_transient'
    prereq = 'generate_mesh_coarse'
    min_parallel = 96
  []
  [MP_SAM_trN_syntax]
    type = RunApp
    check_input = true
    input = 'MP_SAM_trN.i'
    cli_args = "--app ThermalHydraulicsApp
                GlobalParams/initial_p=${Pout}
                GlobalParams/initial_vel=${Vin}
                GlobalParams/initial_T=${Tin}"
    executable_pattern = 'sam*|blue_crab*'
    method = 'opt'
    max_time = 600
    working_directory = 'null_transient'
  []
  [MP_Griffin_scb_syntax]
    type = RunApp
    check_input = true
    input = 'MP_Griffin_scb.i'
    cli_args = 'MultiApps/active="" Transfers/active=""
                Mesh/fmg/file="../mesh/Mesh_coarse_in.e"
                TransportSystems/SN/NA=1'
    executable_pattern = 'griffin*|blue_crab*'
    method = 'opt'
    max_time = 600
    # Griffin does not have the sam petsc option parameter
    allow_unused = true
    working_directory = 'single_channel_blockage'
    prereq = 'generate_mesh_coarse'
    min_parallel = 96
  []
  [MP_BISON_scb_syntax]
    type = RunApp
    check_input = true
    input = 'MP_BISON_scb.i'
    cli_args = "MultiApps/active='' Transfers/active=''"
    executable_pattern = 'bison*|blue_crab*'
    method = 'opt'
    max_time = 600
    working_directory = 'single_channel_blockage'
    prereq = 'generate_mesh_coarse'
    min_parallel = 96
  []
  [MP_SAM_scb_syntax]
    type = RunApp
    check_input = true
    input = 'MP_SAM_scb.i'
    cli_args = "--app ThermalHydraulicsApp
                GlobalParams/initial_p=${Pout}
                GlobalParams/initial_vel=${Vin}
                GlobalParams/initial_T=${Tin}"
    executable_pattern = 'sam*|blue_crab*'
    method = 'opt'
    max_time = 600
    working_directory = 'single_channel_blockage'
  []
  [MP_Griffin_dp_syntax]
    type = RunApp
    check_input = true
    input = 'MP_Griffin_dp.i'
    cli_args = 'MultiApps/active="" Transfers/active=""
                Mesh/fmg/file="../mesh/Mesh_coarse_in.e"
                TransportSystems/SN/NA=1'
    executable_pattern = 'griffin*|blue_crab*'
    method = 'opt'
    max_time = 600
    # Griffin does not have the sam petsc option parameter
    allow_unused = true
    working_directory = 'depressurization'
    prereq = 'generate_mesh_coarse'
    min_parallel = 96
  []
  [MP_BISON_dp_syntax]
    type = RunApp
    check_input = true
    input = 'MP_BISON_dp.i'
    cli_args = "MultiApps/active='' Transfers/active=''"
    executable_pattern = 'bison*|blue_crab*'
    method = 'opt'
    max_time = 600
    working_directory = 'depressurization'
    prereq = 'generate_mesh_coarse'
    min_parallel = 96
  []
  [MP_SAM_dp_syntax]
    type = RunApp
    check_input = true
    input = 'MP_SAM_dp.i'
    cli_args = "--app ThermalHydraulicsApp
                GlobalParams/initial_p=${Pout}
                GlobalParams/initial_vel=${Vin}
                GlobalParams/initial_T=${Tin}"
    executable_pattern = 'sam*|blue_crab*'
    method = 'opt'
    max_time = 600
    working_directory = 'depressurization'
  []
[]
