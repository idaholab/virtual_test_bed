[Tests]
  # Regression tests
  [run_multiphysics]
    type = CSVDiff
    input = 'NT.i'
    csvdiff = hpc_NT_out.csv
    cli_args = "Executioner/richardson_max_its=1 Executioner/fixed_point_max_its=2
                Outputs/file_base=hpc_NT_out"
    executable_pattern = 'cardinal*'
    # Not going to run because Cardinal is not built with Griffin
    prereq = 'run_neutronics run_nekrs'
    min_parallel = 144
    max_time = 2000
    mesh_mode = DISTRIBUTED
  []
  [run_neutronics]
    type = CSVDiff
    input = 'NTmesh.i NT.i'
    cli_args = "Outputs/file_base=hpc_neutronics_only_out
                Executioner/force_fixed_point_solve=false
                Transfers/active='' MultiApps/active=''
                Mesh/inactive='fmg'"
    csvdiff = hpc_neutronics_only_out.csv
    # 16 processors to have enough memory
    min_parallel = 16
    # for devel testing
    max_time = 500
    executable_pattern = 'griffin*'
    abs_zero = 1e-4
    rel_err = 1e-4
  []
  [run_conduction]
    type = CSVDiff
    input = 'HCmesh.i HC.i'
    csvdiff = hpc_HC_out.csv
    cli_args = "Executioner/dt=0.01
                Executioner/end_time=0.1
                Outputs/time_step_interval=1
                Transfers/active='' MultiApps/active=''
                Mesh/inactive='fmg'
                Outputs/file_base=hpc_HC_out"
    executable_pattern = 'cardinal*|moose*'
    min_parallel = 8
  []
  [run_nekrs]
    type = RunApp
    input = 'nek.i'
    executable_pattern = 'cardinal*'
    min_parallel = 144
  []
[]
